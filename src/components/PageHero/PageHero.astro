---
interface BreadcrumbItem {
  label: string;
  href?: string;
}

interface Props {
  title: string;
  description?: string;
  breadcrumbs?: BreadcrumbItem[];
  showEvaluationButton?: boolean;
  evaluationHref?: string;
  evaluationLabel?: string;
  sectionClass?: string;
  shellClass?: string;
}

const {
  title,
  description,
  breadcrumbs = [],
  showEvaluationButton = true,
  evaluationHref = "/contact-us/",
  evaluationLabel = "Free evaluation",
  sectionClass = "page-hero",
  shellClass = "page-shell",
} = Astro.props as Props;
---

<section class={sectionClass}>
  <div class={shellClass}>
    {
      breadcrumbs.length > 0 && (
        <nav class="page-hero__breadcrumbs" aria-label="Breadcrumb">
          <ol>
            {breadcrumbs.map((item, index) => (
              <li>
                {item.href ? <a href={item.href}>{item.label}</a> : item.label}{" "}
                {index < breadcrumbs.length - 1 && (
                  <span aria-hidden="true"> - </span>
                )}
              </li>
            ))}
          </ol>
        </nav>
      )
    }

    <h1>{title}</h1>

    {description && <p class="page-hero__description">{description}</p>}

    {
      showEvaluationButton && (
        <div class="page-hero__actions">
          <a class="hero-eval-button" href={evaluationHref}>
            {evaluationLabel}
          </a>
        </div>
      )
    }
  </div>
</section>

<style lang="less">
  .page-hero {
    background-color: var(--brandNavy);
    background-image: url("/src/assets/images/Indigo-Right-Bottom-Corner.svg");
    background-repeat: no-repeat;
    background-size: cover;
    color: var(--color-heading-dark);
    padding: clamp(4.8rem, 8vw, 7rem) 0 clamp(2.2rem, 4vw, 3rem);
    border-bottom-left-radius: var(--radius-section);
  }

  .page-hero__breadcrumbs ol {
    list-style: none;
    display: flex;
    flex-wrap: wrap;
    gap: 0;
    margin: 0 0 var(--space-s);
    padding: 0;
  }

  .page-hero__breadcrumbs li {
    color: #c8cfee;
    font-size: clamp(0.88rem, 0.9vw, 1.02rem);
  }

  .page-hero__breadcrumbs li span {
    display: inline-block;
    margin-inline: 0.35rem;
  }

  .page-hero__breadcrumbs a {
    color: inherit;
    text-decoration: none;
  }

  .page-hero__breadcrumbs a:hover {
    text-decoration: underline;
  }

  .page-hero h1 {
    color: var(--color-heading-dark);
    font-size: clamp(2rem, 4.8vw, 3.3rem);
    line-height: 1.1;
    margin-bottom: var(--space-s);
    max-width: 18ch;
  }

  .page-hero__description {
    color: #d8ddf9;
    max-width: 70ch;
  }

  .page-hero__actions {
    margin-top: var(--space-s);
  }
</style>

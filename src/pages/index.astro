---
import BaseLayout from "@layouts/BaseLayout.astro";
import StatsGrid from "@components/StatsGrid/StatsGrid.astro";
import GoogleReviewsSlider from "@components/GoogleReviewsSlider/GoogleReviewsSlider.astro";
import GlobalCta from "@components/GlobalCta/GlobalCta.astro";
import ContactSection from "@components/ContactSection/ContactSection.astro";
import { getCollection } from "astro:content";
import { Picture } from "astro:assets";
import { formatDate } from "@js/utils";
import heroImg from "../assets/images/indigo-office-background-1.webp";
import aboutCollageImg from "../assets/images/Indigo-PhotoCollage-1-01-1-600x559.webp";
import whyTeamImg from "../assets/images/indigo-team-ice-cream-1.webp";
import IndigoStatsImg from "../assets/images/Indigo-Stats-1-600x515.webp";
import layoutIcon from "../icons/layout.svg";
import atIcon from "../icons/at-sign.svg";
import penIcon from "../icons/pen-tool.svg";
import searchIcon from "../icons/search.svg";
import trendingIcon from "../icons/trending-up.svg";
import shoppingIcon from "../icons/shopping-bag.svg";
import { Image } from "astro:assets";

const services = [
  {
    icon: layoutIcon,
    title: "Web Design & Development",
    text: "Your site should work as hard as you do. We build websites that look sharp, load fast, and turn visitors into customers.",
    link: "/our-services/website-design-development/",
    points: [
      "Custom Website Design",
      "E-Commerce & Shopify",
      "Landing Page Design",
      "UX/UI Design",
      "Website & WordPress Development",
    ],
  },
  {
    icon: penIcon,
    title: "Creative & Branding",
    text: "Good design gets attention. Great design drives growth. We create logos, materials, and videos that tell your story clearly.",
    link: "/our-services/creative-design-branding/",
    points: [
      "Logo Design",
      "Marketing Collateral",
      "Promotional Products",
      "Video Production (Short & Long Form)",
    ],
  },
  {
    icon: searchIcon,
    title: "Search Engine Optimization",
    text: "SEO changes constantly. We focus on what works: technical fixes, strong content, and trusted links that deliver steady growth.",
    link: "/our-services/search-engine-optimization/",
    points: [
      "Technical SEO",
      "Content Writing & Optimization",
      "Content Strategy",
      "Google Business Profile Optimization",
      "Offsite SEO & Backlinks",
    ],
  },
  {
    icon: trendingIcon,
    title: "Digital Marketing",
    text: "Ads only work if they reach the right people. We run campaigns on Google, Facebook, and Instagram that track every dollar and improve over time.",
    link: "/our-services/digital-marketing/",
    points: [
      "Paid Search & Social Media Campaigns",
      "Programmatic Display Advertising",
      "Re-targeting & Re-marketing",
      "Lead Generation Campaigns",
      "Geofencing Ads",
      "Conversion Rate Optimization (CRO)",
      "OTT Ads",
    ],
  },
  {
    icon: shoppingIcon,
    title: "Promo & Print Products",
    text: "Print still makes an impact. We design cards, brochures, and branded items that keep your business top of mind.",
    link: "/our-services/print-promotional-products/",
    points: [
      "Branded Print Materials",
      "Custom Promo Products",
      "Employee & Client Kits",
      "Event & Trade Show Materials",
      "On-Dmeand & Bulk Printing",
      "Conversion Rate Optimization (CRO)",
    ],
  },
  {
    icon: atIcon,
    title: "Social Media",
    text: "Your audience is online every day. We help you stay visible with purposeful posts, real engagement, and a strong community.",
    link: "/our-services/print-promotional-products/",
    points: [
      "Organic Social Media Management",
      "Community Engagement & Management",
    ],
  },
];

const values = [
  {
    title: "SuperService",
    text: "We respond in 15 minutes on average. Most agencies take 24-48 hours. We also look for opportunities to provide additional value beyond what you're paying for.",
  },
  {
    title: "Integrity",
    text: "We recommend what you need, not what makes us money. Sometimes a logo refresh works better than a complete rebrand. We'll tell you the difference.",
  },
  {
    title: "Quality",
    text: "Every piece of work represents both of us. Business cards get the same attention as website rebuilds. We don't mark up prices just because we can.",
  },
  {
    title: "Relationships",
    text: "We work with your budget and timeline. Some clients move fast, others take it slow. We adapt. We've had clients for nearly two decades, and they'll tell you they stick around because they simply love working with us.",
  },
];

const stats = [
  {
    icon: atIcon,
    number: "≤ 15min",
    title: "Average Response Time",
    text: "Most agencies take a day or more to reply. Even urgent requests can sit for hours. We average 15 minutes so you get quick answers when you need them.",
  },
  {
    icon: searchIcon,
    number: "120%",
    title: "Increase in Website Traffic",
    text: "A Long Island fence company wasn't showing up when homeowners searched online. We rebuilt their SEO strategy and traffic more than doubled.",
  },
  {
    icon: layoutIcon,
    number: "150%",
    title: "Increase in Leads from Website",
    text: "An outdoor living company had a great showroom but an outdated site that wasn't converting. Their redesigned website now generates 150% more leads.",
  },
  {
    icon: trendingIcon,
    number: "233%",
    title: "Increase in Tour Requests",
    text: "A senior living community needed to reach families searching for care. In six months, tour requests rose 233% with web + local SEO improvements.",
  },
];

const plans = [
  {
    name: "Essential Launch",
    level: "Level One",
    text: "Best for startups and lean businesses looking for affordable marketing solutions.",
    points: [
      "Branded 5-7 page website",
      "Basic logo or brand identity",
      "Foundational SEO",
      "Social profile setup or refresh",
      "1-2 graphics/month",
      "Streamlined communication and project management",
    ],
    next: "What's next? Look professional. Launch confidently. Get found.",
  },
  {
    name: "Growth Builder",
    level: "Level Two",
    text: "Best for businesses ready to scale and generate leads.",
    points: [
      "All benefits from the previous tier",
      "Semi-custom website with a focus on user experience, accessibility, and conversions",
      "Full SEO strategy & content creation",
      "Monthly branded content (blogs, videos, infographics)",
      "Social media management (2-3 platforms)",
      "Paid ad management for social media, SEM, and OTT",
      "Analytics dashboard & your own personal account manager",
    ],
    next: "What's next? Grow awareness. Build momentum. Lead generation.",
  },
  {
    name: "Platinum Performance Partner",
    level: "Level Three",
    text: "Best for established businesses looking to scale rapidly and dominate their market.",
    points: [
      "All benefits from the previous tiers",
      "Fully custom website with complex integrations",
      "Enterprise SEO strategy + backlinking",
      "Brand development and rebranding services",
      "High-end creative (video, motion graphics)",
      "Paid media + automation/AI-driven solutions",
      "Senior strategist with priority support",
    ],
    next: "What's next? Scale intentionally. Convert consistently. Lead your market.",
  },
];

const posts = await getCollection("blog");
posts.sort(
  (a, b) => new Date(b.data.date).valueOf() - new Date(a.data.date).valueOf(),
);
const featuredPosts = posts.slice(0, 3);

const getPlanNextText = (next: string) =>
  next.startsWith("What's next? ") ? next.slice("What's next? ".length) : next;
---

<BaseLayout
  title="Indigo Business Solutions | Digital Marketing Agency | Long Island, NY"
  description="Full-service marketing agency built on real relationships, fast turnaround, and results. We help businesses grow with tailored solutions and unmatched support."
>
  <div class="home">
    <section class="home__hero">
      <div class="page-shell home__hero-grid">
        <div class="home__hero-content">
          <h1 class="home__hero-title">
            Your Marketing <span class="accent-span">Partner</span>, Minus the
            Overhead
          </h1>
          <p>
            Business is challenging, and most marketing agencies make it harder
            with empty promises and inflated price tags. We keep things clear,
            transparent, and focused on your success.
          </p>
          <p>
            Five minutes: that's all it takes to see why we've been one of Long
            Island's top digital marketing agencies since 2006.
          </p>
          <div class="home__hero-actions">
            <a class="hero-eval-button" href="/contact-us/">Free evaluation</a>
            <a class="text-link text-link--dark" href="/our-services/"
              ><span class="text-link__content">Our services</span></a
            >
          </div>
        </div>
        <div class="home__hero-media" aria-hidden="true">
          <Picture
            src={heroImg}
            widths={[480, 720, heroImg.width]}
            sizes="(max-width: 48rem) 92vw, (max-width: 75rem) 44vw, 560px"
            formats={["avif", "webp"]}
            alt="Indigo Business Solutions Office"
            class="home__hero-photo media-corner-curve"
            loading="eager"
            fetchpriority="high"
            decoding="async"
          />
          <div class="imgBadge imgBadge--left">
            Trusted by nearly 200 clients in 30+ states backed by 50+ five-star
            reviews.
          </div>
        </div>
      </div>
    </section>

    <section class="page-section page-section--services">
      <div class="page-shell layout-split layout-split--asymmetric">
        <div class="home__content">
          <div>
            <p class="cs-topper">Marketing That Grows With You</p>
            <h2 class="home__h2">
              Marketing Services Built Around Your Business
            </h2>
          </div>
          <div class="home__content_p_container">
            <p>
              Your business deserves better than cookie-cutter marketing. At
              Indigo, we deliver creative and digital support that fits your
              budget and goals.
            </p>

            <p>
              We start by learning your customers, what’s working, and what’s
              holding you back. Then we build strategies that scale — branding,
              web, SEO, content, social, ads, and print.
            </p>

            <p>
              The difference? We treat your business like our own with honest
              advice, flexible solutions, and a clear focus on ROI.
            </p>
          </div>

          <a
            class="cs-button-solid cs-button-solid--arrow"
            href="/our-services/">See all services</a
          >
        </div>
        <div class="home__collage" aria-hidden="true">
          <Image
            src={IndigoStatsImg}
            alt="A collage of Indigo's client metrics and stats."
            class="home__collage-image"
            loading="eager"
          />
        </div>
      </div>

      <div class="page-shell home__cards">
        {
          services.map((service) => (
            <article class="home__service-card">
              <div>
                {service.icon && (
                  <service.icon
                    aria-label={service.title}
                    class="home__service-icon"
                    role="img"
                  />
                )}
                <h3>{service.title}</h3>
              </div>
              <p>{service.text}</p>
              <ul>
                {service.points.map((point) => (
                  <li>{point}</li>
                ))}
              </ul>
              <a class="text-link" href={service.link}>
                Learn more
              </a>
            </article>
          ))
        }
      </div>
    </section>

    <section
      class="page-section section-color__soft page-section--radius-diagonal"
    >
      <div
        class="page-shell layout-split layout-split--asymmetric home__split--about"
      >
        <div class="home__content">
          <div>
            <p class="cs-topper">About Us</p>
            <h2 class="home__h2">
              Founded On Long Island In 2006, Still Here for Good Reason
            </h2>
          </div>
          <div class="home__about-copy">
            <p>
              We started Indigo because too many agencies overpromise,
              underdeliver, and disappear when it matters most. We knew there
              had to be a better way.
            </p>

            <p>
              Since then, we’ve helped hundreds of companies-from small
              businesses in Hauppauge, NY to nationwide brands-find a partner
              who actually listens.
            </p>

            <p>
              Most agencies push you into their system. We start with a
              conversation: what’s working, what’s not, and where you want to
              go. Then we create solutions that fit.
            </p>

            <p>
              Clients stay with us because our strategies grow with them.
              Whether you need a full rebuild or a few fixes, we meet you where
              you are and help you move forward.
            </p>
          </div>
          <a class="cs-button-solid cs-button-solid--arrow" href="/about-us/"
            >Our story</a
          >
        </div>
        <div class="home__about-visual" aria-hidden="true">
          <Picture
            src={aboutCollageImg}
            widths={[400, 600, aboutCollageImg.width]}
            sizes="(max-width: 48rem) 92vw, (max-width: 75rem) 44vw, 600px"
            formats={["avif", "webp"]}
            alt=""
            class="home__about-photo"
            loading="lazy"
            decoding="async"
          />
        </div>
      </div>
      <div class="page-shell home__values">
        <div>
          <h3 class="home__h3">What Drives Us Every Day</h3>
          <p>
            Marketing never stands still. New platforms appear, rules change,
            and AI keeps evolving. Our clients count on us as partners, not
            paychecks.
          </p>
        </div>
        <div class="home__values-accordion">
          {
            values.map((value, index) => (
              <div
                class:list={[
                  "home__accordion-item",
                  { "is-open": index === 0 },
                ]}
              >
                <button
                  class="home__accordion-trigger"
                  type="button"
                  aria-expanded={index === 0 ? "true" : "false"}
                >
                  <span>{value.title}</span>
                  <span class="home__accordion-icon" aria-hidden="true">
                    <svg
                      class="home__chevron-down"
                      xmlns="http://www.w3.org/2000/svg"
                      width="20"
                      height="20"
                      viewBox="0 0 24 24"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    >
                      <polyline points="6 9 12 15 18 9" />
                    </svg>
                    <svg
                      class="home__chevron-up"
                      xmlns="http://www.w3.org/2000/svg"
                      width="20"
                      height="20"
                      viewBox="0 0 24 24"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    >
                      <polyline points="18 15 12 9 6 15" />
                    </svg>
                  </span>
                </button>
                <div class="home__accordion-panel">
                  <div class="home__accordion-panel-inner">
                    <p>{value.text}</p>
                  </div>
                </div>
              </div>
            ))
          }
        </div>
      </div>
    </section>

    <section
      class="page-section section-color__soft page-section--radius-diagonal"
      id="home__section-why"
    >
      <div class="page-shell layout-split layout-split--asymmetric">
        <div class="home__content">
          <div>
            <p class="cs-topper">
              Most Agencies Sell Dreams. We Solve Problems.
            </p>
            <h2 class="home__h2">Why Work With Us</h2>
          </div>
          <p>
            You've likely heard the pitches before: case studies that don't
            apply, promises to "10x your leads," and retainers that drain your
            budget. We don't work that way.
          </p>
          <ul class="home__checklist">
            <li>We start with your real problems, not our sales goals</li>
            <li>SEO and web design services built around your business</li>
            <li>Flexible marketing plans that work with your budget</li>
            <li>
              Marketing strategy consulting that fits your budget and timeline
            </li>
          </ul>
          <a class="cs-button-solid cs-button-solid--arrow" href="/about-us/"
            >Learn more about our process</a
          >
        </div>
        <div class="home__why-visual" aria-hidden="true">
          <Picture
            src={whyTeamImg}
            widths={[480, 720, whyTeamImg.width]}
            sizes="(max-width: 48rem) 92vw, (max-width: 75rem) 44vw, 560px"
            formats={["avif", "webp"]}
            alt=""
            class="home__why-photo media-corner-curve"
            loading="lazy"
            decoding="async"
          />
          <div class="imgBadge imgBadge--left">
            We help clients look better, reach farther, and grow with
            confidence.
          </div>
        </div>
      </div>

      <StatsGrid items={stats} containerClass="page-shell stats-grid" />
    </section>

    <GoogleReviewsSlider />

    <section
      class="page-section section-color__soft page-section--radius-diagonal"
      id="service-options"
    >
      <div class="page-shell home__plans-head">
        <p class="cs-topper">Marketing Service Options</p>
        <h2 class="home__h2 home__h2--center">
          Three levels, built for where you are right now
        </h2>
        <p class="home__center-text">
          Whether you're starting out, scaling up, or somewhere in between, we
          meet you where you are. Our three flexible levels match your needs and
          budget.
        </p>
      </div>
      <div class="page-shell home__plan-grid">
        {
          plans.map((plan) => (
            <article class="home__plan-card">
              <div>
                <p class="home__plan-level">{plan.level}</p>
                <h3>{plan.name}</h3>
                <p>{plan.text}</p>
              </div>
              <ul>
                {plan.points.map((point) => (
                  <li>{point}</li>
                ))}
              </ul>
              <p class="home__plan-next">
                <span class="home__plan-next-label">What's next?</span>{" "}
                {getPlanNextText(plan.next)}
              </p>
              <a
                class="cs-button-solid cs-button-solid--arrow"
                href="/contact-us/"
              >
                Talk to our team
              </a>
            </article>
          ))
        }
      </div>
      <div class="page-shell home__quiz-cta">
        <h3>Not sure where to start?</h3>
        <p>
          Take our 2-minute quiz and get a clear recommendation based on your
          challenges, budget, and goals.
        </p>
        <a
          class="cs-button-solid cs-button-solid--arrow"
          href="/marketing-quiz/">Take marketing quiz</a
        >
      </div>
    </section>

    <GlobalCta />

    <section class="page-section">
      <div class="page-shell home__blog-head">
        <p class="cs-topper">Insights To Grow Your Business</p>
        <h2 class="home__h2 home__h2--center">
          Marketing tips, strategies, and resources from our blog
        </h2>
        <p class="home__center-text">
          We've tried a lot over the years. Some things worked, some didn't. We
          write about both so you don't have to figure it out the hard way.
        </p>
      </div>
      <div class="page-shell home__blog-grid">
        {
          featuredPosts.map((post) => (
            <article class="home__blog-card">
              <a href={`/${post.id}/`} class="home__blog-image-link">
                <Picture
                  src={post.data.image}
                  alt={post.data.imageAlt}
                  formats={["avif", "webp"]}
                  quality={"mid"}
                />
              </a>
              <p class="home__blog-meta">{formatDate(post.data.date)}</p>
              <h3>
                <a href={`/${post.id}/`}>{post.data.title}</a>
              </h3>
              <a class="text-link" href={`/${post.id}/`}>
                Read more
              </a>
            </article>
          ))
        }
      </div>
      <div class="page-shell home__blog-footer-link">
        <a class="cs-button-solid cs-button-solid--arrow" href="/news-insights/"
          >See our full blog</a
        >
      </div>
    </section>

    <ContactSection />
  </div>
</BaseLayout>

<style lang="less">
  .page-section--services {
    display: flex;
    flex-direction: column;
    gap: var(--space-xl);
  }

  .home__h2 {
    font-size: var(--font-size-h2);
    line-height: 1.08;
    color: var(--color-heading-light);
    margin-bottom: 1rem;
  }

  .home__h2--center {
    text-align: center;
  }

  .home__hero {
    background-color: var(--brandNavy);
    background-image: url("/src/assets/images/Indigo-Right-Bottom-Corner.svg");
    background-size: cover, cover;
    background-repeat: no-repeat;
    padding-bottom: var(--nav-height, 0px);
    padding-top: calc(var(--space-xl) + var(--nav-height, 0px));
    border-bottom-left-radius: var(--radius-section);
  }

  .home__hero-grid {
    display: grid;
    gap: var(--space-l);
    align-items: center;
  }

  .home__hero-title {
    font-size: var(--font-size-h1);
    line-height: 1.02;
    color: var(--color-heading-dark);
    margin-bottom: 1rem;
    max-width: 13ch;
  }

  .home__hero-content p {
    color: var(--color-text-dark);
    max-width: 60ch;
    margin-bottom: var(--space-xs);
  }

  .home__hero-actions {
    display: flex;
    align-items: center;
    gap: var(--space-xs);
    flex-wrap: wrap;
    margin-top: var(--space-s);
  }

  .home .cs-button-solid {
    margin-top: var(--space-s);
  }

  .home__hero-media {
    position: relative;
  }

  .home__hero-photo {
    width: 100%;
    height: auto;
    background: linear-gradient(140deg, #a8d0ff 0%, #56628c 55%, #1f2744 100%);
    box-shadow: var(--soft-shadow);
  }

  #home__section-why {
    margin-top: var(--space-xl);
  }

  .home__content,
  .home__plans-head,
  .home__blog-head,
  .home__quiz-cta {
    display: flex;
    flex-direction: column;
    gap: var(--space-3xs);
  }

  .home__content {
    align-items: flex-start;
  }

  .home__content .home__content_p_container {
    display: flex;
    flex-direction: column;
    gap: var(--space-xs);
    max-width: 55ch;
  }

  .home__about-copy {
    display: flex;
    flex-direction: column;
    gap: var(--space-2xs);
    max-width: 55ch;
  }

  .home__plans-head,
  .home__blog-head,
  .home__quiz-cta {
    align-items: center;
  }

  .home__content .cs-button-solid,
  .home__quiz-cta .cs-button-solid {
    width: fit-content;
  }

  .home__collage-image {
    display: block;
    width: 100%;
    height: auto;
  }

  .home__cards {
    display: grid;
    gap: var(--space-m);
  }

  .home__service-card,
  .home__plan-card {
    background: white;
    border: 1px solid var(--border-color);
    border-radius: var(--radius-card);
    padding: var(--space-m);
    box-shadow: var(--soft-shadow);
  }

  #service-options {
    margin-bottom: var(--space-xl);
  }

  .home__plan-card a {
    display: flex;
    margin-top: auto;
  }

  .home__plan-card ul {
    display: flex;
    flex-direction: column;
    gap: var(--space-3xs);
  }

  .home__service-card {
    display: flex;
    flex-direction: column;
    gap: var(--space-s);
  }

  .home__plan-card {
    display: flex;
    flex-direction: column;
    gap: var(--space-s);
  }

  .home__service-card svg {
    margin-bottom: var(--space-xs);
  }

  .home__service-card h3,
  .home__plan-card h3,
  .home__values h3 {
    font-size: var(--font-size-h3);
    line-height: 1.15;
    color: var(--color-heading-light);
    margin-bottom: 0.7rem;
  }

  .home__service-card ul,
  .home__plan-card ul,
  .home__checklist {
    list-style: none;
    padding: 0;
    margin: 1rem 0;
  }

  .home__service-card li,
  .home__plan-card li,
  .home__checklist li {
    padding-left: var(--space-s);
    position: relative;
    margin-bottom: var(--space-3xs);
    font-size: var(--step--1);
    color: var(--primary);
    line-height: 1.2;
  }

  .home__service-card li::before,
  .home__plan-card li::before,
  .home__checklist li::before {
    content: "›";
    position: absolute;
    left: var(--space-2xs);
    color: var(--secondary);
  }

  .home__checklist {
    margin-left: var(--space-xs);
  }

  .home__service-card a {
    margin-top: auto;
  }

  .home__plan-card .cs-button-solid {
    margin-top: var(--space-s);
    width: fit-content;
    align-self: flex-start;
  }

  .home__split--about {
    margin-bottom: var(--space-l);
  }

  .home__about-visual {
    position: relative;
    overflow: hidden;
  }

  .home__why-visual {
    min-height: clamp(18rem, 33vw, 32rem);
    position: relative;
    overflow: visible;
  }

  .home__about-photo {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .home__why-photo {
    min-height: clamp(18rem, 33vw, 32rem);
    height: 100%;
  }

  .home__values {
    background: #fff;
    border-radius: 0px var(--radius-card);
    padding: var(--space-m);
    display: grid;
    gap: var(--space-s);
    box-shadow: var(--soft-shadow);
  }

  .home__values-accordion {
    display: grid;
    gap: 0.5rem;
  }

  .home__accordion-item {
    padding-bottom: 0.35rem;
  }

  .home__accordion-trigger {
    width: 100%;
    border: 0;
    background: transparent;
    padding: 0.15rem 0;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 0.8rem;
    cursor: pointer;
    font-size: clamp(1.25rem, 1.75vw, 1.9rem);
    color: var(--color-heading-light);
    font-weight: 500;
    text-align: left;
  }

  .home__accordion-icon {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    color: #39426f;
    flex-shrink: 0;
  }

  .home__chevron-up {
    display: none;
  }

  .home__accordion-item.is-open .home__chevron-down {
    display: none;
  }

  .home__accordion-item.is-open .home__chevron-up {
    display: block;
  }

  .home__accordion-item p {
    margin-top: 0.55rem;
    max-width: 60ch;
  }

  .home__accordion-panel {
    display: grid;
    grid-template-rows: 0fr;
    transition: grid-template-rows 0.2s ease;
  }

  .home__accordion-panel-inner {
    overflow: hidden;
    opacity: 0;
    transform: translateY(-4px);
    transition:
      opacity 0.2s ease,
      transform 0.2s ease;
  }

  .home__accordion-item.is-open .home__accordion-panel {
    grid-template-rows: 1fr;
  }

  .home__accordion-item.is-open .home__accordion-panel-inner {
    opacity: 1;
    transform: translateY(0);
  }

  .home__plans-head {
    margin-bottom: 1.4rem;
  }

  .home__center-text {
    max-width: 72ch;
    margin-inline: auto;
    text-align: center;
  }

  .home__plan-grid {
    display: grid;
    gap: var(--space-s);
    align-items: start;
  }

  .home__plan-level {
    font-size: var(--topperFontSize);
    letter-spacing: 0.2em;
    text-transform: uppercase;
    color: #5b6698;
    font-weight: 600;
  }

  .home__plan-next {
    margin-top: auto;
    margin-bottom: var(--space-3xs);
    font-weight: 400;
    color: inherit;
  }

  .home__plan-next-label {
    font-weight: 700;
    color: var(--secondary);
  }

  .home__quiz-cta {
    margin-top: var(--space-xl);
    text-align: center;
  }

  .home__quiz-cta p {
    margin-bottom: 0;
    max-width: 100%;
  }

  .home__blog-head {
    margin-bottom: var(--space-xl);
  }

  .home__blog-grid {
    display: grid;
    gap: var(--space-l);
  }

  .home__blog-card {
    display: grid;
    gap: var(--space-s);
  }

  .home__blog-image-link {
    --blog-image-inset: var(--space-xs);
    --blog-image-radius-outer: var(--radius-card);
    --blog-image-radius-inner: max(
      0px,
      calc(var(--blog-image-radius-outer) - var(--blog-image-inset))
    );
    display: block;
    border-radius: var(--blog-image-radius-outer);
    overflow: hidden;
    background: var(--section-light-bg);
    padding: var(--blog-image-inset);
    aspect-ratio: 1 / 1;
    box-shadow: var(--soft-shadow);
  }

  .home__blog-image-link :global(picture) {
    display: block;
    width: 100%;
    height: 100%;
    border-radius: var(--blog-image-radius-inner);
  }

  .home__blog-image-link :global(img) {
    display: block;
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: var(--blog-image-radius-inner);
  }

  .home__blog-card h3 {
    font-size: var(--font-size-h5);
    margin: 0;
  }

  .home__blog-card h3 a {
    text-decoration: none;
    color: var(--color-heading-light);
  }

  .home__blog-meta {
    font-size: clamp(0.96rem, 1vw, 1.06rem);
    line-height: 1.45;
    color: #4d5a88;
    margin: 0;
  }

  .home__blog-footer-link {
    margin-top: var(--space-m);
    text-align: center;
  }

  .home__blog-footer-link .cs-button-solid {
    margin-top: 0;
  }

  @media only screen and (min-width: 48rem) {
    .home__hero-grid {
      grid-template-columns: 1fr 1fr;
    }

    .home__cards,
    .home__blog-grid {
      grid-template-columns: repeat(2, minmax(0, 1fr));
    }

    .home__plan-grid {
      grid-template-columns: repeat(2, minmax(0, 1fr));
    }

    .home__values {
      grid-template-columns: 1fr 1fr;
      align-items: center;
    }
  }

  @media only screen and (min-width: 75rem) {
    .home__cards,
    .home__plan-grid,
    .home__blog-grid {
      grid-template-columns: repeat(3, minmax(0, 1fr));
    }

    .home__plan-grid {
      align-items: end;
    }

    .home__hero-grid {
      grid-template-columns: 1fr 0.95fr;
    }

    .home__plan-grid .home__plan-card {
      margin-top: 0;
      border-radius: 0;
    }

    .home__plan-grid .home__plan-card:first-child {
      border-radius: var(--radius-card) 0 0 var(--radius-card);
    }

    .home__plan-grid .home__plan-card:nth-child(2) {
      border-radius: 0;
    }

    .home__plan-grid .home__plan-card:last-child {
      border-radius: 0 var(--radius-card) var(--radius-card) 0;
    }
  }
</style>

<script>
  const initHomeAccordions = () => {
    const accordions = document.querySelectorAll<HTMLElement>(
      ".home__values-accordion",
    );
    accordions.forEach((accordion) => {
      if (!(accordion instanceof HTMLElement)) return;
      if (accordion.dataset.initialized === "true") return;
      accordion.dataset.initialized = "true";

      const items = Array.from(
        accordion.querySelectorAll<HTMLElement>(".home__accordion-item"),
      );
      items.forEach((item) => {
        const trigger = item.querySelector<HTMLButtonElement>(
          ".home__accordion-trigger",
        );
        if (!(trigger instanceof HTMLButtonElement)) return;

        trigger.addEventListener("click", () => {
          const willOpen = !item.classList.contains("is-open");
          items.forEach((other) => {
            other.classList.remove("is-open");
            const otherTrigger = other.querySelector<HTMLButtonElement>(
              ".home__accordion-trigger",
            );
            if (otherTrigger instanceof HTMLButtonElement) {
              otherTrigger.setAttribute("aria-expanded", "false");
            }
          });

          if (willOpen) {
            item.classList.add("is-open");
            trigger.setAttribute("aria-expanded", "true");
          }
        });
      });
    });
  };

  initHomeAccordions();
  document.addEventListener("astro:page-load", initHomeAccordions);
</script>
